<!DOCTYPE Robei>
<Module Y="0" File="Current/sell_test.test" Type="testbench" Class="module" Time_Scale="" Parent="0" Height="600" X="0" Comment="" Color="#d3d3d3" Name="sell_test" Width="900" Include="" Code="initial begin&#xa;&#x9;one_dollar=0;&#xa;&#x9;half_dollar=0;&#xa;&#x9;nrst=1;&#xa;&#x9;clk=0;&#xa;&#x9;#5;&#xa;&#x9;nrst=0;&#xa;&#x9;repeat(2)@(posedge clk) #1;&#xa;&#x9;nrst=1;&#xa;&#x9;repeat(2)@(posedge clk);&#xa;&#x9;#2 one_dollar=1;&#xa;&#x9;repeat(1)@(posedge clk);&#xa;&#x9;#2 one_dollar=0;&#xa;&#x9;repeat(2)@(posedge clk);&#xa;&#x9;#2 one_dollar=1;&#xa;&#x9;repeat(1)@(posedge clk);&#xa;&#x9;#2 one_dollar=0;&#xa;&#x9;repeat(2)@(posedge clk);&#xa;&#x9;#2 one_dollar=1;&#xa;&#x9;repeat(1)@(posedge clk);&#xa;&#x9;#2 one_dollar=0;&#xa;&#x9;repeat(2)@(posedge clk);&#xa;&#x9;#2 one_dollar=1;&#xa;&#x9;repeat(1)@(posedge clk);&#xa;&#x9;#2 one_dollar=0;&#xa;&#x9;repeat(2)@(posedge clk);&#xa;&#x9;#2 one_dollar=1;&#xa;&#x9;repeat(1)@(posedge clk);&#xa;&#x9;#2 one_dollar=0;&#xa;&#x9;repeat(2)@(posedge clk);&#xa;&#x9;#2 half_dollar=1;&#xa;&#x9;repeat(1)@(posedge clk);&#xa;&#x9;#2 half_dollar=0;&#xa;&#x9;#5 $finish;&#xa;end&#xa;always #10 clk=~clk;&#xa;&#xa;&#xa;">
 <Module Parameters="" Y="106.255" File="Current/sell.model" Type="model" Class="sell" Parent="sell_test" Height="258" X="275.649" Comment="" Color="#d3d3d3" Name="sell1" Width="366" Include="" Code="reg [2:0] ns;&#xa;reg [2:0] cs;&#xa;&#xa;parameter [2:0] &#xa;&#x9;&#x9;&#x9;IDLE&#x9;&#x9;&#x9;   = 3'h0,&#xa;&#x9;&#x9;&#x9;HALF &#x9;&#x9;&#x9;= 3'h1,&#xa;&#x9;&#x9;&#x9;ONE  &#x9;&#x9;&#x9;= 3'h2,&#xa;&#x9;&#x9;&#x9;ONE_HALF = 3'h3,&#xa;&#x9;&#x9;&#x9;TWO &#x9;&#x9;&#x9;   &#x9;= 3'h4;&#xa;&#xa;always @(posedge clk or negedge nrst) begin&#xa;&#x9;if(!nrst) begin &#xa;&#x9;&#x9;cs = IDLE;&#xa;&#x9;end&#xa;&#x9;else begin&#xa;&#x9;&#x9;cs = ns;&#xa;&#x9;end&#xa;end&#xa;&#xa;always @(cs or half_dollar or one_dollar) begin&#xa;&#x9;ns = IDLE;&#xa;&#x9;{half_out,dispense} &lt;= 2'b00; &#xa;&#x9;case(cs)&#xa;&#x9;&#x9;IDLE: begin&#xa;&#x9;&#x9;&#x9;if(half_dollar) ns = HALF;&#xa;&#x9;&#x9;&#x9;else if(one_dollar) ns = ONE;&#xa;&#x9;&#x9;end&#xa;&#x9;&#x9;HALF: begin&#xa;&#x9;&#x9;&#x9;if(half_dollar) ns = ONE;&#xa;&#x9;&#x9;&#x9;else if(one_dollar) ns = ONE_HALF;&#xa;&#x9;&#x9;end&#xa;&#x9;&#x9;ONE: begin&#xa;&#x9;&#x9;&#x9;if(half_dollar) ns = ONE_HALF;&#xa;&#x9;&#x9;&#x9;else if(one_dollar) ns = TWO;&#xa;&#x9;&#x9;end&#xa;&#x9;&#x9;ONE_HALF: begin&#xa;&#x9;&#x9;&#x9;if(half_dollar) ns = TWO;&#xa;&#x9;&#x9;&#x9;else if(one_dollar) begin&#xa;&#x9;&#x9;&#x9;&#x9;ns = IDLE;&#xa;&#x9;&#x9;&#x9;&#x9;dispense = 1;&#xa;&#x9;&#x9;&#x9;end&#x9;&#x9;&#x9;&#xa;&#x9;&#x9;end&#xa;&#x9;&#x9;TWO: begin&#xa;&#x9;&#x9;&#x9;if(half_dollar) begin&#xa;&#x9;&#x9;&#x9;&#x9;ns = IDLE;&#xa;&#x9;&#x9;&#x9;&#x9;dispense = 1;&#xa;&#x9;&#x9;&#x9;end&#xa;&#x9;&#x9;&#x9;else if(one_dollar) begin&#xa;&#x9;&#x9;&#x9;&#x9;ns = ONE;&#xa;&#x9;&#x9;&#x9;&#x9;half_out = 1;&#xa;&#x9;&#x9;&#x9;&#x9;dispense  = 1;&#xa;&#x9;&#x9;&#x9;end&#xa;&#x9;&#x9;end&#xa;&#x9;&#x9;default: begin&#xa;&#x9;&#x9;&#x9;ns = IDLE;&#xa;&#x9;&#x9;end&#xa;&#x9;endcase&#xa;end&#xa;&#xa;/*&#xa;  always @( posedge clk or negedge nrst ) begin &#xa;    if ( !nrst ) begin &#xa;      {half_out,dispense} &lt;= 2'b00; &#xa;    end&#xa;    else begin &#xa;      case ( ns ) &#xa;        IDLE :&#x9;&#x9;&#x9;    {half_out,dispense} &lt;= 2'b00; &#xa;        HALF: &#x9;&#x9;&#x9;    {half_out,dispense} &lt;= 2'b00;&#xa;        ONE: &#x9;&#x9;&#x9;    {half_out,dispense} &lt;= 2'b00; &#xa;        ONE_HALF:  {half_out,dispense} &lt;= 2'b00; &#xa;        TWO:&#x9;&#x9;&#x9;&#x9;{half_out,dispense} &lt;= 2'b00; &#xa;      endcase &#xa;    end &#xa;  end&#xa;*/&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;&#xa;">
  <Port Y="0.127907" Connect="" Function="" Parent="sell1" Height="20" X="-0.0546448" Inout="input" Datasize="1" Color="#00ffff" Side="left" Name="clk" Width="20" Datatype="wire"/>
  <Port Y="0.294574" Connect="" Function="" Parent="sell1" Height="20" X="-0.0546448" Inout="input" Datasize="1" Color="#d2691e" Side="left" Name="nrst" Width="20" Datatype="wire"/>
  <Port Y="0.46124" Connect="" Function="" Parent="sell1" Height="20" X="-0.0546448" Inout="input" Datasize="1" Color="#0000ff" Side="left" Name="half_dollar" Width="20" Datatype="wire"/>
  <Port Y="0.627907" Connect="" Function="" Parent="sell1" Height="20" X="-0.0546448" Inout="input" Datasize="1" Color="#8a2be2" Side="left" Name="one_dollar" Width="20" Datatype="wire"/>
  <Port Y="0.209302" Connect="" Function="" Parent="sell1" Height="20" X="0.945355" Inout="output" Datasize="1" Color="#a52a2a" Side="right" Name="half_out" Width="20" Datatype="reg"/>
  <Port Y="0.457364" Connect="" Function="" Parent="sell1" Height="20" X="0.945355" Inout="output" Datasize="1" Color="#2f4f4f" Side="right" Name="dispense" Width="20" Datatype="reg"/>
 </Module>
 <Port Y="0.15" Function="" Parent="sell_test" Height="20" X="-0.0222222" Inout="input" Datasize="1" Color="#00ffff" Side="left" Name="clk" Width="20" Datatype="reg"/>
 <Port Y="0.316667" Function="" Parent="sell_test" Height="20" X="-0.0222222" Inout="input" Datasize="1" Color="#d2691e" Side="left" Name="nrst" Width="20" Datatype="reg"/>
 <Port Y="0.483333" Function="" Parent="sell_test" Height="20" X="-0.0222222" Inout="input" Datasize="1" Color="#0000ff" Side="left" Name="half_dollar" Width="20" Datatype="reg"/>
 <Port Y="0.65" Function="" Parent="sell_test" Height="20" X="-0.0222222" Inout="input" Datasize="1" Color="#8a2be2" Side="left" Name="one_dollar" Width="20" Datatype="reg"/>
 <Port Y="0.233333" Function="" Parent="sell_test" Height="20" X="0.977778" Inout="output" Datasize="1" Color="#a52a2a" Side="right" Name="half_out" Width="20" Datatype="wire"/>
 <Port Y="0.483333" Function="" Parent="sell_test" Height="20" X="0.977778" Inout="output" Datasize="1" Color="#2f4f4f" Side="right" Name="dispense" Width="20" Datatype="wire"/>
 <Wire From="sell_test>clk" To="sell_test#sell1>clk" Parent="sell_test" Datasize="1" Name="sell_test_clk" Datatype="wire"/>
 <Wire From="sell_test>nrst" To="sell_test#sell1>nrst" Parent="sell_test" Datasize="1" Name="sell_test_nrst" Datatype="wire"/>
 <Wire From="sell_test>half_dollar" To="sell_test#sell1>half_dollar" Parent="sell_test" Datasize="1" Name="sell_test_half_dollar" Datatype="wire"/>
 <Wire From="sell_test>one_dollar" To="sell_test#sell1>one_dollar" Parent="sell_test" Datasize="1" Name="sell_test_one_dollar" Datatype="wire"/>
 <Wire From="sell_test#sell1>half_out" To="sell_test>half_out" Parent="sell_test" Datasize="1" Name="sell1_half_out" Datatype="wire"/>
 <Wire From="sell_test#sell1>dispense" To="sell_test>dispense" Parent="sell_test" Datasize="1" Name="sell1_dispense" Datatype="wire"/>
</Module>
