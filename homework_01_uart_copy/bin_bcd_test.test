<!DOCTYPE Robei>
<Module Code="initial begin&#xa;  clk = 0;&#xa;end&#xa;always #10 clk = ~clk;&#xa;&#xa;initial begin&#xa;  rst_n = 1;&#xa;  repeat(1) @(posedge clk) #1;&#xa;  rst_n = 0;  &#xa;  repeat(1) @(posedge clk) #1;&#xa;  rst_n = 1;&#xa;end&#xa;&#xa;initial begin &#xa;  tran_en   = 0;&#xa;  data_in   = 8'd123;&#xa;  repeat(4) @(posedge clk) #1;&#xa;  tran_en   = 1;&#xa;  repeat(2) @(posedge clk) #1;&#xa;  tran_en   = 0;&#xa;  repeat(15) @(posedge clk) #1;&#xa;  $finish;&#xa;end&#xa;" Include="" Height="600" Time_Scale="" Class="module" Y="0" Name="bin_bcd_test" Type="testbench" Width="900" File="Current/bin_bcd_test.test" Color="#d3d3d3" Comment="" Parent="0" X="0">
 <Module Code="`define DEL 1&#xa;&#xa;reg       [2:0]   cs;&#xa;reg       [2:0]   ns;&#xa;&#xa;reg       [3:0]   shift_cnt;&#xa;reg       [7:0]   data_reg;&#xa;&#xa;reg       [3:0]   ones_reg;&#xa;reg       [3:0]   tens_reg;&#xa;reg       [3:0]   hundreds_reg;&#xa;&#xa;reg       [3:0]   ones_out;&#xa;reg       [3:0]   tens_out;&#xa;reg       [3:0]   hundreds_out;&#xa;&#xa;wire      [3:0]   ones_temp;&#xa;wire      [3:0]   tens_temp;&#xa;wire      [3:0]   hundreds_temp;&#xa;&#xa;parameter [2:0]  IDLE   = 3'b001,&#xa;  SHIFT     = 3'b010,&#xa;  DONE      = 3'b100;&#xa;&#xa;//&#xa;// FSM step1&#xa;//&#xa;always @( posedge clk or negedge rst_n ) begin&#xa;  if ( !rst_n ) begin&#xa;    cs &lt;= #`DEL IDLE;&#xa;  end&#xa;  else begin&#xa;    cs &lt;= #`DEL ns;&#xa;  end&#xa;end&#xa;&#xa;//&#xa;// FSM step2&#xa;//&#xa;always @( * ) begin&#xa;  ns = IDLE;&#xa;  case ( cs )&#xa;    IDLE : begin&#xa;      if ( tran_en ) begin&#xa;        ns = SHIFT;&#xa;      end&#xa;      else begin&#xa;        ns = IDLE;&#xa;      end&#xa;    end&#xa;    SHIFT: begin&#xa;      if ( shift_cnt == 9 ) begin&#xa;        ns = DONE;&#xa;      end &#xa;      else begin&#xa;        ns = SHIFT;&#xa;      end&#xa;    end &#xa;    DONE : begin &#xa;        ns = IDLE;&#xa;    end &#xa;    default : begin &#xa;        ns = IDLE;&#xa;    end &#xa;  endcase &#xa;end&#xa;&#xa;//&#xa;// FSM step3&#xa;//&#xa;always @( posedge clk or negedge rst_n ) begin &#xa;  if ( !rst_n ) begin &#xa;    ones_reg     &lt;= #`DEL 4'b0;&#xa;    tens_reg     &lt;= #`DEL 4'b0;&#xa;    hundreds_reg &lt;= #`DEL 4'b0;&#xa;    shift_cnt    &lt;= #`DEL 4'b0;&#xa;    data_reg     &lt;= #`DEL 8'b0;&#xa;    tran_done    &lt;= #`DEL 1'b0;&#xa;  end&#xa;  else begin &#xa;    case ( ns )&#xa;      IDLE: begin&#xa;        ones_reg     &lt;= #`DEL 4'b0;&#xa;        tens_reg     &lt;= #`DEL 4'b0;&#xa;        hundreds_reg &lt;= #`DEL 4'b0;&#xa;        shift_cnt    &lt;= #`DEL 4'b0;&#xa;        data_reg     &lt;= #`DEL data_in;&#xa;        tran_done    &lt;= #`DEL 1'b0;&#xa;      end&#xa;      SHIFT: begin&#xa;        if( shift_cnt == 9 ) begin&#xa;          shift_cnt &lt;= #`DEL 4'b0;&#xa;        end&#xa;        else begin&#xa;          shift_cnt    &lt;= #`DEL shift_cnt + 1'b1;&#xa;          data_reg     &lt;= #`DEL data_reg  &lt;&lt; 1;&#xa;          ones_reg     &lt;= #`DEL {ones_temp[2:0], data_reg[7]};&#xa;          tens_reg     &lt;= #`DEL {tens_temp[2:0], ones_temp[3]};&#xa;          hundreds_reg &lt;= #`DEL {hundreds_temp[2:0], tens_temp[3]};&#xa;        end&#xa;      end&#xa;      DONE: begin&#xa;        tran_done &lt;= #`DEL 1'b1;&#xa;      end&#xa;    endcase &#xa;  end &#xa;end      &#xa;&#xa;always @( posedge clk or negedge rst_n ) begin&#xa;  if( ~rst_n ) begin&#xa;    ones_out     &lt;= #`DEL 4'b0;&#xa;    tens_out     &lt;= #`DEL 4'b0;&#xa;    hundreds_out &lt;= #`DEL 4'b0;&#xa;  end&#xa;  else if( tran_done ) begin    &#xa;    ones_out     &lt;= #`DEL ones_reg;&#xa;    tens_out     &lt;= #`DEL tens_reg;&#xa;    hundreds_out &lt;= #`DEL hundreds_reg;&#xa;  end&#xa;  else begin    &#xa;    ones_out     &lt;= #`DEL ones_out;&#xa;    tens_out     &lt;= #`DEL tens_out;&#xa;    hundreds_out &lt;= #`DEL hundreds_out;&#xa;  end&#xa;end      &#xa;&#xa;&#xa;assign ones_temp     = ( ones_reg     > 4'd4 ) ? ( ones_reg     + 2'd3 ) : ones_reg;&#xa;assign tens_temp     = ( tens_reg     > 4'd4 ) ? ( tens_reg     + 2'd3 ) : tens_reg;&#xa;assign hundreds_temp = ( hundreds_reg > 4'd4 ) ? ( hundreds_reg + 2'd3 ) : hundreds_reg;&#xa;&#xa;assign hundreds_place = hundreds_out;&#xa;assign tens_place     = tens_out;&#xa;assign ones_place     = ones_out;&#xa;&#xa;&#xa;&#xa;" Include="" Parameters="" Height="292" Class="bin_bcd" Y="100.129" Name="bin_bcd1" Type="model" Width="283" File="Current/bin_bcd.model" Color="#d3d3d3" Comment="" Parent="bin_bcd_test" X="357.676">
  <Port Datasize="1" Datatype="wire" Height="20" Function="" Side="left" Y="0.130137" Name="clk" Width="20" Color="#0000ff" Parent="bin_bcd1" X="-0.0706714" Connect="" Inout="input"/>
  <Port Datasize="1" Datatype="wire" Height="20" Function="" Side="left" Y="0.294521" Name="rst_n" Width="20" Color="#00ffff" Parent="bin_bcd1" X="-0.0706714" Connect="" Inout="input"/>
  <Port Datasize="1" Datatype="wire" Height="20" Function="" Side="left" Y="0.458904" Name="tran_en" Width="20" Color="#8a2be2" Parent="bin_bcd1" X="-0.0706714" Connect="" Inout="input"/>
  <Port Datasize="8" Datatype="wire" Height="20" Function="" Side="left" Y="0.623288" Name="data_in" Width="20" Color="#a52a2a" Parent="bin_bcd1" X="-0.0706714" Connect="" Inout="input"/>
  <Port Datasize="1" Datatype="reg" Height="20" Function="" Side="right" Y="0.130137" Name="tran_done" Width="20" Color="#7fff00" Parent="bin_bcd1" X="0.929329" Connect="" Inout="output"/>
  <Port Datasize="4" Datatype="wire" Height="20" Function="" Side="right" Y="0.294521" Name="hundreds_place" Width="20" Color="#5f9ea0" Parent="bin_bcd1" X="0.929329" Connect="" Inout="output"/>
  <Port Datasize="4" Datatype="wire" Height="20" Function="" Side="right" Y="0.458904" Name="tens_place" Width="20" Color="#b8860b" Parent="bin_bcd1" X="0.929329" Connect="" Inout="output"/>
  <Port Datasize="4" Datatype="wire" Height="20" Function="" Side="right" Y="0.623288" Name="ones_place" Width="20" Color="#6495ed" Parent="bin_bcd1" X="0.929329" Connect="" Inout="output"/>
 </Module>
 <Port Datasize="1" Datatype="reg" Height="20" Function="" Side="left" Y="0.15" Name="clk" Width="20" Color="#0000ff" Parent="bin_bcd_test" X="-0.0222222" Inout="input"/>
 <Port Datasize="1" Datatype="reg" Height="20" Function="" Side="left" Y="0.316667" Name="rst_n" Width="20" Color="#00ffff" Parent="bin_bcd_test" X="-0.0222222" Inout="input"/>
 <Port Datasize="1" Datatype="reg" Height="20" Function="" Side="left" Y="0.483333" Name="tran_en" Width="20" Color="#8a2be2" Parent="bin_bcd_test" X="-0.0222222" Inout="input"/>
 <Port Datasize="8" Datatype="reg" Height="20" Function="" Side="left" Y="0.65" Name="data_in" Width="20" Color="#a52a2a" Parent="bin_bcd_test" X="-0.0222222" Inout="input"/>
 <Port Datasize="1" Datatype="wire" Height="20" Function="" Side="right" Y="0.15" Name="tran_done" Width="20" Color="#7fff00" Parent="bin_bcd_test" X="0.977778" Inout="output"/>
 <Port Datasize="4" Datatype="wire" Height="20" Function="" Side="right" Y="0.316667" Name="hundreds_place" Width="20" Color="#5f9ea0" Parent="bin_bcd_test" X="0.977778" Inout="output"/>
 <Port Datasize="4" Datatype="wire" Height="20" Function="" Side="right" Y="0.483333" Name="tens_place" Width="20" Color="#b8860b" Parent="bin_bcd_test" X="0.977778" Inout="output"/>
 <Port Datasize="4" Datatype="wire" Height="20" Function="" Side="right" Y="0.65" Name="ones_place" Width="20" Color="#6495ed" Parent="bin_bcd_test" X="0.977778" Inout="output"/>
 <Wire Datasize="1" From="bin_bcd_test>clk" Datatype="wire" Name="bin_bcd_test_clk" Parent="bin_bcd_test" To="bin_bcd_test#bin_bcd1>clk"/>
 <Wire Datasize="1" From="bin_bcd_test>rst_n" Datatype="wire" Name="bin_bcd_test_rst_n" Parent="bin_bcd_test" To="bin_bcd_test#bin_bcd1>rst_n"/>
 <Wire Datasize="1" From="bin_bcd_test>tran_en" Datatype="wire" Name="bin_bcd_test_tran_en" Parent="bin_bcd_test" To="bin_bcd_test#bin_bcd1>tran_en"/>
 <Wire Datasize="8" From="bin_bcd_test>data_in" Datatype="wire" Name="bin_bcd_test_data_in" Parent="bin_bcd_test" To="bin_bcd_test#bin_bcd1>data_in"/>
 <Wire Datasize="1" From="bin_bcd_test#bin_bcd1>tran_done" Datatype="wire" Name="bin_bcd1_tran_done" Parent="bin_bcd_test" To="bin_bcd_test>tran_done"/>
 <Wire Datasize="4" From="bin_bcd_test#bin_bcd1>hundreds_place" Datatype="wire" Name="bin_bcd1_hundreds_place" Parent="bin_bcd_test" To="bin_bcd_test>hundreds_place"/>
 <Wire Datasize="4" From="bin_bcd_test#bin_bcd1>tens_place" Datatype="wire" Name="bin_bcd1_tens_place" Parent="bin_bcd_test" To="bin_bcd_test>tens_place"/>
 <Wire Datasize="4" From="bin_bcd_test#bin_bcd1>ones_place" Datatype="wire" Name="bin_bcd1_ones_place" Parent="bin_bcd_test" To="bin_bcd_test>ones_place"/>
</Module>
