<!DOCTYPE Robei>
<Module Height="600" Name="flashed_test" Include="" File="Current/flashed_test.test" Time_Scale="" Comment="" Color="#d3d3d3" X="0" Width="900" Class="module" Y="0" Type="testbench" Code="&#x9;//&#xa;&#x9;// Generate clock&#xa;&#x9;//&#xa;&#x9;initial begin&#xa;&#x9;  clk = 0;&#xa;&#x9;end&#xa;&#x9;always #10 clk = ~clk;&#xa;&#x9;&#xa;&#x9;//&#xa;&#x9;// Generate reset signal&#xa;&#x9;//&#xa;&#x9;initial begin&#xa;&#x9;  rst_n = 1;&#xa;&#x9;  @( posedge clk ) #1;&#xa;&#x9;  rst_n = 0;&#xa;&#x9;  @( posedge clk ) #1;&#xa;&#x9;  rst_n = 1;&#xa;&#x9;end&#xa;&#x9;&#xa;&#x9;//&#xa;&#x9;// Generate other input signals&#xa;&#x9;//&#xa;&#x9;initial begin &#xa;&#x9;  rx = 1;&#x9;&#xa;&#x9;  //&#xa;&#x9;  // receive division data, 0_1111_1010, 250&#xa;&#x9;  //&#xa;&#x9;  repeat(32*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 0;  // Start signal&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 0;  // Least significant signal&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 0;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;  // Most significant signal&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 0;  // Parity check&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;  // Stop bit   &#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#xa;&#x9;  //&#xa;&#x9;  // receive duty data, 1_1100_1000, 200, 200/250=80%&#xa;&#x9;  //&#xa;&#x9;  repeat(32*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 0;  // Start signal&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 0;  // Least significant signal&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 0;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 0;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 0;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 0;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;  // Most significant signal&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;  // Parity check&#xa;&#x9;  repeat(16*78)@( posedge clk ) #1;&#xa;&#x9;  rx = 1;  // Stop bit   &#xa;&#x9;  repeat(16*78*200)@( posedge clk ) #1;&#xa;&#x9;  $finish;&#xa;&#x9;end&#xa;&#xa;&#xa;" Parent="0">
 <Module Height="160" Name="flashed1" Parameters="" Include="" File="Current/flashed.model" Comment="" Color="#d3d3d3" X="319.038" Width="160" Class="flashed" Y="194.038" Type="model" Code="&#x9;reg   [2:0] cnt ;         //定义了一个3位的计数器，输出可以作为3-8译码器的输入&#xa; &#xa;&#x9;wire clk_div;               //定义一个中间变量，表示分频得到的时钟，用作计数器的触发&#xa;&#xa;&#x9;// clk_div时钟上升沿触发计数器，循环计数&#x9;&#x9;&#xa;&#x9;always @(posedge clk_div or negedge rst_n)&#xa;&#x9;&#x9;if (!rst_n)&#xa;&#x9;&#x9;&#x9;cnt &lt;= 0;&#xa;&#x9;&#x9;else&#xa;&#x9;&#x9;&#x9;cnt &lt;= cnt +1;" Parent="flashed_test">
  <Port Height="20" Name="clk" Connect="" Side="left" Color="#0000ff" X="-0.125" Width="20" Function="" Datatype="wire" Datasize="1" Y="0.1375" Inout="input" Parent="flashed1"/>
  <Port Height="20" Name="rst_n" Connect="" Side="left" Color="#00ffff" X="-0.125" Width="20" Function="" Datatype="wire" Datasize="1" Y="0.3375" Inout="input" Parent="flashed1"/>
  <Port Height="20" Name="rx" Connect="" Side="left" Color="#7fffd4" X="-0.125" Width="20" Function="" Datatype="wire" Datasize="1" Y="0.5375" Inout="input" Parent="flashed1"/>
  <Port Height="20" Name="led" Connect="" Side="right" Color="#f0ffff" X="0.875" Width="20" Function="" Datatype="wire" Datasize="8" Y="0.1375" Inout="output" Parent="flashed1"/>
  <Port Height="20" Name="led_out0" Connect="" Side="right" Color="#ff00ff" X="0.875" Width="20" Function="" Datatype="wire" Datasize="9" Y="0.5375" Inout="output" Parent="flashed1"/>
  <Port Height="20" Name="led_out1" Connect="" Side="right" Color="#006400" X="0.875" Width="20" Function="" Datatype="wire" Datasize="9" Y="0.3375" Inout="output" Parent="flashed1"/>
 </Module>
 <Port Height="20" Name="clk" Side="left" Color="#0000ff" X="-0.0222222" Width="20" Function="" Datatype="reg" Datasize="1" Y="0.183333" Inout="input" Parent="flashed_test"/>
 <Port Height="20" Name="rst_n" Side="left" Color="#00ffff" X="-0.0222222" Width="20" Function="" Datatype="reg" Datasize="1" Y="0.383333" Inout="input" Parent="flashed_test"/>
 <Port Height="20" Name="rx" Side="left" Color="#7fffd4" X="-0.0222222" Width="20" Function="" Datatype="reg" Datasize="1" Y="0.583333" Inout="input" Parent="flashed_test"/>
 <Port Height="20" Name="led" Side="right" Color="#f0ffff" X="0.977778" Width="20" Function="" Datatype="wire" Datasize="8" Y="0.183333" Inout="output" Parent="flashed_test"/>
 <Port Height="20" Name="led_out0" Side="right" Color="#f5f5dc" X="0.977778" Width="20" Function="" Datatype="wire" Datasize="9" Y="0.383333" Inout="output" Parent="flashed_test"/>
 <Port Height="20" Name="led_out1" Side="right" Color="#ffe4c4" X="0.977778" Width="20" Function="" Datatype="wire" Datasize="9" Y="0.583333" Inout="output" Parent="flashed_test"/>
 <Wire From="flashed_test>clk" Name="flashed_test_clk" Datatype="wire" Datasize="1" To="flashed_test#flashed1>clk" Parent="flashed_test"/>
 <Wire From="flashed_test>rst_n" Name="flashed_test_rst_n" Datatype="wire" Datasize="1" To="flashed_test#flashed1>rst_n" Parent="flashed_test"/>
 <Wire From="flashed_test>rx" Name="flashed_test_rx" Datatype="wire" Datasize="1" To="flashed_test#flashed1>rx" Parent="flashed_test"/>
 <Wire From="flashed_test#flashed1>led" Name="flashed1_led" Datatype="wire" Datasize="8" To="flashed_test>led" Parent="flashed_test"/>
 <Wire From="flashed_test#flashed1>led_out1" Name="flashed1_led_out1" Datatype="wire" Datasize="9" To="flashed_test>led_out1" Parent="flashed_test"/>
 <Wire From="flashed_test#flashed1>led_out0" Name="flashed1_led_out0" Datatype="wire" Datasize="9" To="flashed_test>led_out0" Parent="flashed_test"/>
</Module>
